![Логотип](https://sun9-49.userapi.com/impf/vUR2BoEqxWBFxlS8bgegod-MgMnWHxT9cvgBVw/7VsKAznEPKc.jpg?size=1920x768&quality=95&crop=0,84,1000,399&sign=88e3cf3f330d2ae90aee2c89301d6698&type=cover_group)

# Игра "Попади в Гаста" на ПЛК

---

## Общее описание

Программа реализует игру на программируемом логическом контроллере (ПЛК), в которой:

- На экране движется **мишень — гаст из Minecraft** (движение вверх-вниз).
- Игрок может нажать на кнопку (`Kurok`), чтобы **выстрелить стрелой из лука**.
- Если выстрел попадает в зону мишени гаста, это считается попаданием и засчитывается очко.
- После попадания происходит пауза, затем гаст продолжает движение.

![Игра](game.jpg)

---

## Краткое описание кода

### 1. Активация системы

- Входной сигнал `a1` активирует флаг `b1`, который включает все поведение системы.

### 2. Движение гаста

- Гаст с координатами `c1`, `d1` движется вертикально (вверх-вниз).
- Движение вверх контролируется триггером `SR1`.
- При достижении верхней границы (`d1 >= 250`) включается `SR2` — движение вниз.
- При достижении нижней границы (`d1 <= 0`) снова включается `SR1` — движение вверх.

### 3. Выстрел

- При нажатии `Kurok` и наличии мишени (`st1`) активируется триггер `SR3`.
- Стрела создаётся в начальной точке с координатами `e1`, `e2`.
- Координаты попадания сохраняются в паттернах `patx`, `paty` (отображаются при точном попадании).

### 4. Движение стрелы

- Пока `SR3.Q1 = TRUE` (стрела в полёте), координата `e1` увеличивается (движение по оси X).
- При превышении максимального расстояния (`e1 > 800`) выстрел считается оконченным.

### 5. Обнаружение попадания

- Если стрела достигает X-координаты мишени (`e1 - 750 >= c2`)  
  и по оси Y находится в пределах мишени (`e2 + 40 < c1 < e2 + 110`), то:
  - Координаты стрелы обнуляются.
  - Срабатывает триггер `SR4` — попадание.
  - На экране появляются красные точки — визуальные метки попадания (следы стрелы).

- Если выстрел не попадает в зону мишени:
  - Флаг попадания не срабатывает.
  - Для продолжения игры нужно перезарядить лук (сбросить `Kurok`).

### 6. Обработка попадания

- При активации `SR4` (стрела попала):
  - Все скорости объектов (`vx1–vx6`, `vy1–vy6`) сбрасываются в 0.
  - Запускается таймер `TP1` (пауза 2 секунды).
  - По окончании паузы триггер `SR4` сбрасывается, игра продолжается.

### 7. Сброс игры

- При сигнале `sbr1` координаты всех паттернов (`patx1–patx5`, `paty1–paty5`) очищаются —  
  это удаляет все визуальные следы попаданий (красные точки).

---
